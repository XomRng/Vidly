@using Vidly.Controllers
@model Vidly.ViewModels.MovieViewModel

@{
    ViewBag.Title = "MovieForm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    if (Model.Movie.Id == 0)
    {
        <h2>Dodaj nowy film</h2>
    }
    else
    {
        <h2>Edytuj film</h2>
    }

    using (@Html.BeginForm("Save", "Movies"))
    {
        <div class="form-group">
            @Html.LabelFor(m=>m.Movie.Name)
            @Html.TextBoxFor(m=>m.Movie.Name, new {@class="form-control"})
            @Html.ValidationMessageFor(m=>m.Movie.Name)
        </div>        
        <div class="form-group">
            @Html.LabelFor(m=>m.Movie.ReleaseDate)
            @Html.TextBoxFor(m=>m.Movie.ReleaseDate, "{0:d MMM yyyy}", new { @class = "form-control" })
            @Html.ValidationMessageFor(m=>m.Movie.ReleaseDate)
        </div> 
        <div class="form-group">
            @Html.LabelFor(m=>m.Movie.NumberInStock)
            @Html.TextBoxFor(m=>m.Movie.NumberInStock, new {@class="form-control"})
            @Html.ValidationMessageFor(m=>m.Movie.NumberInStock)
        </div>
        <div class="form-group">
            @Html.LabelFor(m=>m.MovieGenres)
            @Html.DropDownListFor(m=>m.Movie.MovieGenreId, new SelectList(Model.MovieGenres, "Id", "Name"), "Wybierz gatunek", new {@class="form-control"})
            @Html.ValidationMessageFor(m=>m.Movie.MovieGenreId)
        </div>

        @Html.HiddenFor(m=>m.Movie.Id)
        @Html.HiddenFor(m=>m.Movie.DateAdded)
        @Html.AntiForgeryToken()

        <button type="submit" class="btn btn-primary">Zapisz</button>
    }
   
}

@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
}


